---
import type { ContentItem } from '../config';

export interface Props {
  section: string;
  sectionContent: ContentItem[];
  currentSlug?: string;
}

const { section, sectionContent, currentSlug } = Astro.props;

const sectionTitle = section.charAt(0).toUpperCase() + section.slice(1);
---

<aside class="w-64 bg-white border-r border-gray-200 min-h-screen" role="navigation" aria-label={`${sectionTitle} navigation`}>
  <div class="p-6">
    <h2 class="text-lg font-semibold text-gray-900 mb-4">{sectionTitle}</h2>
    
    <nav>
      <ul class="space-y-1">
        {sectionContent.map((item) => {
          const isActive = currentSlug === item.slug;
          const cleanTitle = item.title
            .replace('Portfolio – ', '')
            .replace('Administration – ', '');
          
          return (
            <li>
              <a
                href={`/${section}/${item.slug}`}
                class={`block px-3 py-2 rounded-md text-sm transition-colors ${
                  isActive
                    ? 'bg-green-100 text-green-700 font-medium'
                    : 'text-gray-700 hover:text-green-700 hover:bg-green-50'
                }`}
                {...(isActive && { 'aria-current': 'page' })}
              >
                {cleanTitle}
                {item.pdfs && item.pdfs.length > 0 && (
                  <span class="ml-2 inline-flex items-center px-2 py-0.5 rounded text-xs font-medium bg-gray-100 text-gray-800">
                    {item.pdfs.length} PDF{item.pdfs.length > 1 ? 's' : ''}
                  </span>
                )}
              </a>
            </li>
          );
        })}
      </ul>
    </nav>
    
    <!-- Quick Links -->
    <div class="mt-8 pt-6 border-t border-gray-200">
      <h3 class="text-sm font-medium text-gray-900 mb-3">Quick Links</h3>
      <ul class="space-y-2 text-sm">
        <li>
          <a href="/hall-of-fame" class="text-green-600 hover:text-green-700 transition-colors">
            Hall of Fame
          </a>
        </li>
        <li>
          <a href="mailto:seniors@vragc.co.uk" class="text-green-600 hover:text-green-700 transition-colors">
            Contact Seniors
          </a>
        </li>
        <li>
          <a href="/" class="text-gray-500 hover:text-gray-700 transition-colors">
            ← Back to Home
          </a>
        </li>
      </ul>
    </div>
  </div>
</aside>